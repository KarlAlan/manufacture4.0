!function($,undefined){function Aside(modal,settings){var $modal=$(modal),placement="right",vertical=!1,backdrop="",invisible_backdrop=!1,options={};options.fixed=settings.fixed||"true"==$modal.attr("data-fixed"),options.dark=settings.background||"true"==$modal.attr("data-background"),options.offset=settings.offset||"true"==$modal.attr("data-offset"),options.no_scroll=!settings.body_scroll||"false"==$modal.attr("data-body-scroll"),options.transition=settings.transition!==!1&&"false"!==$modal.attr("data-transition"),options.scroll_style=settings.scroll_style||(options.dark?"scroll-white":"scroll-dark")+" no-track";var dialog=$modal.find(".modal-dialog"),content=$modal.find(".modal-content");this.initiate=function(){modal.className=modal.className.replace(/(\s|^)aside\-(right|top|left|bottom)(\s|$)/gi,"$1$3"),placement=settings.placement||$modal.attr("data-placement"),placement=placement?$.trim(placement.toLowerCase()):"right",backdrop=settings.backdrop||$modal.attr("data-backdrop"),/right|top|left|bottom/.test(placement)||(placement="right"),$modal.attr("data-placement",placement),$modal.addClass("aside-"+placement),/right|left/.test(placement)?(vertical=!0,$modal.addClass("aside-vc")):$modal.addClass("aside-hz"),options.fixed&&$modal.addClass("aside-fixed"),options.dark&&$modal.addClass("aside-dark"),options.offset&&$modal.addClass("navbar-offset"),options.transition||$modal.addClass("transition-off"),$modal.addClass("aside-hidden"),this.insideContainer(),dialog=$modal.find(".modal-dialog"),content=$modal.find(".modal-content"),options.no_scroll&&$modal.on("mousewheel.aside DOMMouseScroll.aside touchmove.aside pointermove.aside",function(e){return $.contains(content[0],e.target)?void 0:(e.preventDefault(),!1)}),backdrop===!1||"false"===backdrop?$modal.addClass("no-backdrop"):"invisible"===backdrop&&(invisible_backdrop=!0)},this.show=function(){$modal.css("position","fixed").removeClass("aside-hidden")},this.hide=function(){toggleButton(),ace.vars.transition&&!$modal.hasClass("fade")&&$modal.one("bsTransitionEnd",function(){$modal.addClass("aside-hidden"),$modal.css("position","")}).emulateTransitionEnd(350)},this.shown=function(){if(toggleButton(),$("body").removeClass("modal-open").css("padding-right",""),invisible_backdrop)try{$modal.data("bs.modal").$backdrop.css("opacity",0)}catch(e){}var size=vertical?content.height():dialog.height();ace.vars.touch?content.addClass("overflow-scroll").css("max-height",size+"px"):content.hasClass("ace-scroll")||content.ace_scroll({size:size,reset:!0,mouseWheelLock:!0,lockAnyway:options.no_scroll,styleClass:options.scroll_style,observeContent:!0,hideOnIdle:!ace.vars.old_ie,hideDelay:1500}),$window.off("resize.modal.aside").on("resize.modal.aside",function(){if(ace.vars.touch)content.css("max-height",(vertical?content.height():dialog.height())+"px");else{content.ace_scroll("disable");var size=vertical?content.height():dialog.height();content.ace_scroll("update",{size:size}).ace_scroll("enable").ace_scroll("reset")}}).triggerHandler("resize.modal.aside")},this.hidden=function(){$window.off(".aside"),(!ace.vars.transition||$modal.hasClass("fade"))&&($modal.addClass("aside-hidden"),$modal.css("position",""))},this.insideContainer=function(){var container=$(".main-container"),dialog=$modal.find(".modal-dialog");if(dialog.css({right:"",left:""}),container.hasClass("container")){var flag=!1;1==vertical&&(dialog.css(placement,parseInt(($window.width()-container.width())/2)),flag=!0),flag&&ace.vars.firefox&&ace.helper.redraw(container[0])}},this.flip=function(){var flipSides={right:"left",left:"right",top:"bottom",bottom:"top"};$modal.removeClass("aside-"+placement).addClass("aside-"+flipSides[placement]),placement=flipSides[placement]};var toggleButton=function(){var btn=$modal.find(".aside-trigger");if(0!=btn.length){btn.toggleClass("open");var icon=btn.find(ace.vars[".icon"]);0!=icon.length&&icon.toggleClass(icon.attr("data-icon1")+" "+icon.attr("data-icon2"))}};this.initiate(),$modal.appendTo("body")}var $window=$(window);$(document).on("show.bs.modal",".modal.aside",function(){$(".aside.in").modal("hide"),$(this).ace_aside("show")}).on("hide.bs.modal",".modal.aside",function(){$(this).ace_aside("hide")}).on("shown.bs.modal",".modal.aside",function(){$(this).ace_aside("shown")}).on("hidden.bs.modal",".modal.aside",function(){$(this).ace_aside("hidden")}),$(window).on("resize.aside_container",function(){$(".modal.aside").ace_aside("insideContainer")}),$(document).on("settings.ace.aside",function(e,event_name){"main_container_fixed"==event_name&&$(".modal.aside").ace_aside("insideContainer")}),$.fn.aceAside=$.fn.ace_aside=function(option,value){var method_call,$set=this.each(function(){var $this=$(this),data=$this.data("ace_aside"),options="object"==typeof option&&option;data||$this.data("ace_aside",data=new Aside(this,options)),"string"==typeof option&&"function"==typeof data[option]&&(method_call=value instanceof Array?data[option].apply(data,value):data[option](value))});return method_call===undefined?$set:method_call},$(".modal.aside").ace_aside()}(window.jQuery);