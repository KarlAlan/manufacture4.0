!function($,undefined){function Sidebar_Hover(sidebar,settings){function subHide(li_sub){var self=li_sub,$self=$(self),timer=null,visible=!1;this.show=function(){null!=timer&&clearTimeout(timer),timer=null,$self.addClass("hover-show hover-shown"),visible=!0;for(var i=0;i<sidebars.length;i++)sidebars[i].find(".hover-show").not(".hover-shown").each(function(){getSubHide(this).hide()})},this.hide=function(){visible=!1,$self.removeClass("hover-show hover-shown hover-flip"),null!=timer&&clearTimeout(timer),timer=null;var sub=$self.find("> .submenu").get(0);sub&&getSubScroll(sub,"hide")},this.hideDelay=function(callback){null!=timer&&clearTimeout(timer),$self.removeClass("hover-shown"),timer=setTimeout(function(){visible=!1,$self.removeClass("hover-show hover-flip"),timer=null;var sub=$self.find("> .submenu").get(0);sub&&getSubScroll(sub,"hide"),"function"==typeof callback&&callback.call(this)},hover_delay)},this.is_visible=function(){return visible}}function getSubHide(el){var sub_hide=$(el).data("subHide");return sub_hide||$(el).data("subHide",sub_hide=new subHide(el)),sub_hide}function getSubScroll(el,func){var sub_scroll=$(el).data("ace_scroll");return sub_scroll?"string"==typeof func?(sub_scroll[func](),!0):sub_scroll:!1}function adjust_submenu(sub){var $li=$(this),$sub=$(sub);sub.style.top="",sub.style.bottom="";var menu_text=null;sidebar_vars.minimized&&(menu_text=$li.find(".menu-text").get(0))&&(menu_text.style.marginTop="");var scroll=ace.helper.scrollTop(),navbar_height=0,$scroll=scroll;navbar_fixed&&(navbar_height=sidebar.offsetTop,$scroll+=navbar_height+1);var off=$li.offset();off.top=parseInt(off.top);var parent_height,extra=0;sub.style.maxHeight="";var sub_h=sub.scrollHeight,parent_height=$li.height();menu_text&&(extra=parent_height,off.top+=extra);var sub_bottom=parseInt(off.top+sub_h),move_up=0,winh=$window.height(),top_space=parseInt(off.top-$scroll-extra),win_space=winh,horizontal=sidebar_vars.horizontal,horizontal_sub=!1;horizontal&&this.parentNode==nav_list&&(move_up=0,off.top+=$li.height(),horizontal_sub=!0),!horizontal_sub&&(move_up=sub_bottom-(winh+scroll))>=0&&(move_up=top_space>move_up?move_up:top_space,0==move_up&&(move_up=20),top_space-move_up>10&&(move_up+=parseInt(Math.min(25,top_space-move_up))),off.top+(parent_height-extra)>sub_bottom-move_up&&(move_up-=off.top+(parent_height-extra)-(sub_bottom-move_up)),move_up>0&&(sub.style.top=-move_up+"px",menu_text&&(menu_text.style.marginTop=-move_up+"px"))),0>move_up&&(move_up=0);var pull_up=move_up>0&&move_up>parent_height-20;if(pull_up?$li.addClass("pull_up"):$li.removeClass("pull_up"),horizontal)if($li.parent().parent().hasClass("hover-flip"))$li.addClass("hover-flip");else{var sub_off=$sub.offset(),sub_w=$sub.width(),win_w=$window.width();sub_off.left+sub_w>win_w&&$li.addClass("hover-flip")}var has_hover=$li.hasClass("hover")&&!sidebar_vars.mobile_view;if(!(has_hover&&$sub.find("> li > .submenu").length>0)){var scroll_height=win_space-(off.top-scroll)+move_up,tmp=move_up-scroll_height;if(tmp>0&&parent_height>tmp&&(scroll_height+=parseInt(Math.max(parent_height,parent_height-tmp))),scroll_height-=5,!(90>scroll_height)){var ace_scroll=!1;if(nativeScroll)$sub.addClass("sub-scroll").css("max-height",scroll_height+"px");else{if(ace_scroll=getSubScroll(sub),0==ace_scroll){$sub.ace_scroll({observeContent:!0,detached:!0,updatePos:!1,reset:!0,mouseWheelLock:!0,styleClass:scroll_style}),ace_scroll=getSubScroll(sub);var track=ace_scroll.get_track();track&&$sub.after(track)}ace_scroll.update({size:scroll_height})}if(lastScrollHeight=scroll_height,!nativeScroll&&ace_scroll){scroll_height>14&&sub_h-scroll_height>4?(ace_scroll.enable(),ace_scroll.reset()):ace_scroll.disable();var track=ace_scroll.get_track();if(track){track.style.top=-(move_up-extra-1)+"px";var off=$sub.position(),left=off.left;left+=scroll_right?2:$sub.outerWidth()-ace_scroll.track_size(),track.style.left=parseInt(left)+"px",horizontal_sub&&(track.style.left=parseInt(left-2)+"px",track.style.top=parseInt(off.top)+(menu_text?extra-2:0)+"px")}}ace.vars.safari&&ace.helper.redraw(sub)}}}var self=this,$sidebar=$(sidebar),nav_list=$sidebar.find(".nav-list").get(0);$sidebar.attr("data-sidebar-hover","true"),sidebars.push($sidebar);var sidebar_vars={},old_ie=ace.vars.old_ie,hover_delay=settings.sub_hover_delay||ace.helper.intAttr(sidebar,"data-sub-hover-delay")||750,scroll_style=settings.sub_scroll_style||$sidebar.attr("data-sub-scroll-style")||"no-track scroll-thin",scroll_right=!1;hasTouch&&(hover_delay=parseInt(Math.max(hover_delay,2500)));var $window=$(window),$navbar=$(".navbar").eq(0),navbar_fixed="fixed"==$navbar.css("position");this.update_vars=function(){navbar_fixed="fixed"==$navbar.css("position")},self.dirty=!1,this.reset=function(){0!=self.dirty&&(self.dirty=!1,$sidebar.find(".submenu").each(function(){var $sub=$(this),li=$sub.parent();$sub.css({top:"",bottom:"","max-height":""}),$sub.hasClass("ace-scroll")?$sub.ace_scroll("disable"):$sub.removeClass("sub-scroll"),is_element_pos(this,"absolute")?$sub.addClass("can-scroll"):$sub.removeClass("can-scroll"),li.removeClass("pull_up").find(".menu-text:first").css("margin-top","")}),$sidebar.find(".hover-show").removeClass("hover-show hover-shown hover-flip"))},this.updateStyle=function(newStyle){scroll_style=newStyle,$sidebar.find(".submenu.ace-scroll").ace_scroll("update",{styleClass:newStyle})},this.changeDir=function(dir){scroll_right="right"===dir};var lastScrollHeight=-1;nativeScroll||$sidebar.on("hide.ace.submenu.sidebar_hover",".submenu",function(e){if(!(1>lastScrollHeight)){e.stopPropagation();var $sub=$(this).closest(".ace-scroll.can-scroll");0!=$sub.length&&is_element_pos($sub[0],"absolute")&&$sub[0].scrollHeight-this.scrollHeight<lastScrollHeight&&$sub.ace_scroll("disable")}}),nativeScroll||$sidebar.on("shown.ace.submenu.sidebar_hover hidden.ace.submenu.sidebar_hover",".submenu",function(){if(!(1>lastScrollHeight)){var $sub=$(this).closest(".ace-scroll.can-scroll");if(0!=$sub.length&&is_element_pos($sub[0],"absolute")){var sub_h=$sub[0].scrollHeight;lastScrollHeight>14&&sub_h-lastScrollHeight>4?$sub.ace_scroll("enable").ace_scroll("reset"):$sub.ace_scroll("disable")}}});var currentScroll=-1,event_1=hasTouch?"touchstart.sub_hover":"mouseenter.sub_hover",event_2=hasTouch?"touchend.sub_hover touchcancel.sub_hover":"mouseleave.sub_hover";$sidebar.on(event_1,".nav-list li, .sidebar-shortcuts",function(){if(sidebar_vars=$sidebar.ace_sidebar("vars"),!sidebar_vars.collapsible){var $this=$(this),shortcuts=!1,has_hover=$this.hasClass("hover"),sub=$this.find("> .submenu").get(0);if(!(sub||this.parentNode==nav_list||has_hover||(shortcuts=$this.hasClass("sidebar-shortcuts"))))return void(sub&&$(sub).removeClass("can-scroll"));var target_element=sub,is_abs=!1;if(target_element||this.parentNode!=nav_list||(target_element=$this.find("> a > .menu-text").get(0)),!target_element&&shortcuts&&(target_element=$this.find(".sidebar-shortcuts-large").get(0)),!(target_element&&(is_abs=is_element_pos(target_element,"absolute"))||has_hover))return void(sub&&$(sub).removeClass("can-scroll"));var sub_hide=getSubHide(this);if(sub)if(is_abs){self.dirty=!0;var newScroll=ace.helper.scrollTop();if(!sub_hide.is_visible()||!hasTouch&&newScroll!=currentScroll||old_ie)if($(sub).addClass("can-scroll"),old_ie||hasTouch){var that=this;setTimeout(function(){adjust_submenu.call(that,sub)},0)}else adjust_submenu.call(this,sub);currentScroll=newScroll}else $(sub).removeClass("can-scroll");sub_hide.show()}}).on(event_2,".nav-list li, .sidebar-shortcuts",function(){sidebar_vars=$sidebar.ace_sidebar("vars"),sidebar_vars.collapsible||$(this).hasClass("hover-show")&&getSubHide(this).hideDelay()})}if(!ace.vars.very_old_ie){var hasTouch=ace.vars.touch,nativeScroll=ace.vars.old_ie||hasTouch,is_element_pos="getComputedStyle"in window?function(el,pos){return el.offsetHeight,window.getComputedStyle(el).position==pos}:function(el,pos){return el.offsetHeight,$(el).css("position")==pos};$(window).on("resize.sidebar.ace_hover",function(){$(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars").ace_sidebar_hover("reset")}),$(document).on("settings.ace.ace_hover",function(e,event_name){"sidebar_collapsed"==event_name?$(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("reset"):"navbar_fixed"==event_name&&$(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars")});var sidebars=[];$.fn.ace_sidebar_hover=function(option,value){var method_call,$set=this.each(function(){var $this=$(this),data=$this.data("ace_sidebar_hover"),options="object"==typeof option&&option;data||$this.data("ace_sidebar_hover",data=new Sidebar_Hover(this,options)),"string"==typeof option&&"function"==typeof data[option]&&(method_call=data[option](value))});return method_call===undefined?$set:method_call}}}(window.jQuery);