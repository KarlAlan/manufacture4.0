!function($,undefined){function AceAjax(contentArea,options){function updateBreadcrumbs(link_element){var link_text="",breadcrumbs=$(".breadcrumb");if(breadcrumbs.length>0&&breadcrumbs.is(":visible")){breadcrumbs.find("> li:not(:first-child)").remove();var i=0;link_element.parents(".nav li").each(function(){var link=$(this).find("> a"),link_clone=link.clone();link_clone.find("i,.fa,.glyphicon,.ace-icon,.menu-icon,.badge,.label").remove();var text=link_clone.text();link_clone.remove();var href=link.attr("href");if(0==i){var li=$('<li class="active"></li>').appendTo(breadcrumbs);li.text(text),link_text=text}else{var li=$("<li><a /></li>").insertAfter(breadcrumbs.find("> li:first-child"));li.find("a").attr("href",href).text(text)}i++})}return link_text}function updateTitle(link_text){var $title=$contentArea.find(".ajax-append-title");if($title.length>0)document.title=$title.text(),$title.remove();else if(link_text.length>0){var extra=$.trim(String(document.title).replace(/^(.*)[\-]/,""));extra&&(extra=" - "+extra),link_text=$.trim(link_text)+extra}}var $contentArea=$(contentArea),self=this,content_url=options.content_url||!1,default_url=options.default_url||!1,loading_icon=options.loading_icon||"fa-spinner fa-2x orange",loading_text=options.loading_text||"",update_breadcrumbs=options.update_breadcrumbs||options.update_breadcrumbs===undefined,update_title=options.update_title||options.update_breadcrumbs===undefined,update_active=options.update_active||options.update_breadcrumbs===undefined,close_active=options.close_active||!1,max_load_wait=options.max_load_wait||!1,working=!1;this.loadUrl=function(hash){var url=!1;hash=hash.replace(/^(\#\!)?\#/,""),"function"==typeof content_url&&(url=content_url(hash)),"string"==typeof url&&this.getUrl(url,hash,!1)},this.getUrl=function(url,hash,manual_trigger){if(!working){var event;$contentArea.trigger(event=$.Event("ajaxloadstart"),{url:url,hash:hash}),event.isDefaultPrevented()||(self.startLoading(),$.ajax({url:url}).error(function(){$contentArea.trigger("ajaxloaderror",{url:url,hash:hash}),self.stopLoading(!0)}).done(function(result){$contentArea.trigger("ajaxloaddone",{url:url,hash:hash});var link_element=null,link_text="";if("function"==typeof update_active)link_element=update_active.call(null,hash,url);else if(update_active===!0&&(link_element=$('a[data-url="'+hash+'"]'),link_element.length>0)){var nav=link_element.closest(".nav");if(nav.length>0){nav.find(".active").each(function(){var $class="active";($(this).hasClass("hover")||close_active)&&($class+=" open"),$(this).removeClass($class),close_active&&$(this).find(" > .submenu").css("display","")});{link_element.closest("li").addClass("active").parents(".nav li").addClass("active open")}nav.closest(".sidebar[data-sidebar-scroll=true]").each(function(){var $this=$(this);$this.ace_sidebar_scroll("reset"),manual_trigger&&$this.ace_sidebar_scroll("scroll_to_active")})}}"function"==typeof update_breadcrumbs?link_text=update_breadcrumbs.call(null,hash,url,link_element):update_breadcrumbs===!0&&null!=link_element&&link_element.length>0&&(link_text=updateBreadcrumbs(link_element)),result=String(result).replace(/<(title|link)([\s\>])/gi,'<div class="hidden ajax-append-$1"$2').replace(/<\/(title|link)\>/gi,"</div>"),$contentArea.empty().html(result),$contentArea.css("opacity",.6),setTimeout(function(){$("head").find("link.ace-ajax-stylesheet").remove();for(var main_selectors=["link.ace-main-stylesheet","link#main-ace-style",'link[href*="/ace.min.css"]','link[href*="/ace.css"]'],ace_style=[],m=0;m<main_selectors.length&&(ace_style=$("head").find(main_selectors[m]).first(),!(ace_style.length>0));m++);$contentArea.find(".ajax-append-link").each(function(){var $link=$(this);if($link.attr("href")){var new_link=jQuery("<link />",{type:"text/css",rel:"stylesheet","class":"ace-ajax-stylesheet"});ace_style.length>0?new_link.insertBefore(ace_style):new_link.appendTo("head"),new_link.attr("href",$link.attr("href"))}$link.remove()})},10),"function"==typeof update_title?update_title.call(null,hash,url,link_text):update_title===!0&&updateTitle(link_text),manual_trigger||$("html,body").animate({scrollTop:0},250),$contentArea.trigger("ajaxloadcomplete",{url:url,hash:hash}),self.stopLoading()}))}};var loadTimer=null;this.startLoading=function(){working||(working=!0,$contentArea.css("opacity",.25).prevAll(".ajax-loading-overlay").remove(),$('<div class="ajax-loading-overlay"><i class="ajax-loading-icon fa fa-spin '+loading_icon+'"></i> '+loading_text+"</div>").insertBefore(contentArea),max_load_wait!==!1&&(loadTimer=setTimeout(function(){if(loadTimer=null,working){var event;$contentArea.trigger(event=$.Event("ajaxloadlong")),event.isDefaultPrevented()||self.stopLoading(!0)}},1e3*max_load_wait)))},this.stopLoading=function(stopNow){stopNow===!0?(working=!1,$contentArea.css("opacity",1).prevAll(".ajax-loading-overlay").remove(),null!=loadTimer&&(clearTimeout(loadTimer),loadTimer=null)):($contentArea.css("opacity",.75),$contentArea.one("ajaxscriptsloaded",function(){self.stopLoading(!0)}))},this.loadScripts=function(scripts,callback){$.ajaxPrefilter("script",function(opts){opts.cache=!0}),setTimeout(function(){function finishLoading(){"function"==typeof callback&&callback(),$('.btn-group[data-toggle="buttons"] > .btn').button(),$contentArea.trigger("ajaxscriptsloaded")}function nextScript(index){index+=1,index<scripts.length?loadScript(index):finishLoading()}function loadScript(index){if(index=index||0,!scripts[index])return nextScript(index);var script_name="js-"+scripts[index].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");ajax_loaded_scripts[script_name]!==!0?$.getScript(scripts[index]).done(function(){ajax_loaded_scripts[script_name]=!0}).complete(function(){resolved++,resolved>=deferred_count&&working?finishLoading():nextScript(index)}):nextScript(index)}for(var deferred_count=0,resolved=0,i=0;i<scripts.length;i++)scripts[i]&&!function(){var script_name="js-"+scripts[i].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");ajax_loaded_scripts[script_name]!==!0&&deferred_count++}();deferred_count>0?loadScript():finishLoading()},10)},$(window).off("hashchange.ace_ajax").on("hashchange.ace_ajax",function(){var hash=$.trim(window.location.hash);hash&&0!=hash.length&&self.loadUrl(hash)}).trigger("hashchange.ace_ajax",[!0]);var hash=$.trim(window.location.hash);!hash&&default_url&&(window.location.hash=default_url)}var ajax_loaded_scripts={};$.fn.aceAjax=$.fn.ace_ajax=function(option,value,value2){var method_call,$set=this.each(function(){var $this=$(this),data=$this.data("ace_ajax"),options="object"==typeof option&&option;data||$this.data("ace_ajax",data=new AceAjax(this,options)),"string"==typeof option&&"function"==typeof data[option]&&(method_call=value2!=undefined?data[option](value,value2):data[option](value))});return method_call===undefined?$set:method_call}}(window.jQuery);